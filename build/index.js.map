{"version":3,"file":"index.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAOiC;AAKF;AAEe;;AAE9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASU,IAAIA,CAAE;EAC7BC,UAAU,EAAE;IAAEC,MAAM;IAAEC,aAAa;IAAEC,YAAY;IAAEC;EAAU,CAAC;EAAE;EAChEC;AACD,CAAC,EAAG;EACH;EACA,MAAMC,IAAI,GAAGC,EAAE,CAACC,IAAI,CAACC,QAAQ,CAAE,GAAG,CAAE;;EAEpC;EACA,MAAMC,UAAU,GAAGpB,sEAAa,EAAE;;EAElC;EACA,MAAMqB,iBAAiB,GACtBC,iEAAA,CAACvB,sEAAiB,QACjBuB,iEAAA,CAAClB,4DAAS;IAACmB,KAAK,EAAGhB,mDAAE,CAAE,UAAU,EAAE,oBAAoB;EAAI,GAC1De,iEAAA,CAACjB,+DAAY;IACZmB,SAAS,EAAG,oBAAsB;IAClCC,KAAK,EAAGlB,mDAAE,CAAE,cAAc,EAAE,oBAAoB,CAAI;IACpDmB,QAAQ,EAAGf,MAAQ;IACnBgB,OAAO,EAAG,CACT;MACCF,KAAK,EAAElB,mDAAE,CAAE,aAAa,EAAE,oBAAoB,CAAE;MAChDqB,KAAK,EAAE;IACR,CAAC,EACD;MACCH,KAAK,EAAElB,mDAAE,CAAE,YAAY,EAAE,oBAAoB,CAAE;MAC/CqB,KAAK,EAAE;IACR,CAAC,CACC;IACHC,IAAI,EAAGrB,wDAAO,EACb;IACAD,mDAAE,CACD,yIAAyI,EACzI,oBAAoB,CACpB,EACDS,IAAI,EACJA,IAAI,CACF;IACHc,QAAQ,EAAKC,SAAS,IACrBhB,aAAa,CAAE;MACdJ,MAAM,EAAEoB;IACT,CAAC;EACD,EACA,EACFT,iEAAA,CAAChB,8DAAW;IACXmB,KAAK,EAAGlB,mDAAE,CAAE,kBAAkB,EAAE,oBAAoB,CAAI;IACxDqB,KAAK,EAAGhB,aAAe;IACvBiB,IAAI,EAAGtB,mDAAE,CACP,mCAAmC,EACnC,oBAAoB,CAClB;IACJuB,QAAQ,EAAKE,gBAAgB,IAC5BjB,aAAa,CAAE;MAAEH,aAAa,EAAEoB;IAAiB,CAAC;EAClD,EACA,EACFV,iEAAA,CAAChB,8DAAW;IACXmB,KAAK,EAAGlB,mDAAE,CAAE,iBAAiB,EAAE,oBAAoB,CAAI;IACvDqB,KAAK,EAAGf,YAAc;IACtBgB,IAAI,EAAGtB,mDAAE,CACP,kCAAkC,EAClC,oBAAoB,CAClB;IACJuB,QAAQ,EAAKG,eAAe,IAC3BlB,aAAa,CAAE;MAAEF,YAAY,EAAEoB;IAAgB,CAAC;EAChD,EACA,CACS,CAEb;;EAED;EACA,MAAMC,WAAW,GAAGjB,EAAE,CAACC,IAAI,CAACC,QAAQ,CAAER,MAAM,CAAE;;EAE9C;EACA,MAAMwB,iBAAiB,GAAI;AAC5B;AACA;AACA;AACA,EAAE;;EAED;EACA,OACCb,iEAAA,CAAAc,wDAAA,QACGf,iBAAiB,EACnBC,iEAAA,gBAASa,iBAAiB,CAAU,EACpCb,iEAAA;IAAA,GAAUF;EAAU,GACnBE,iEAAA,CAACnB,kEAAa,QACbmB,iEAAA,CAACpB,qEAAgB;IAChB0B,KAAK,EAAGd,SAAW;IACnBgB,QAAQ,EAAKO,YAAY,IACxBtB,aAAa,CAAE;MACdD,SAAS,EAAEuB,YAAY,KAAKC,SAAS,GAAG,MAAM,GAAGD;IAClD,CAAC;EACD,EACA,CACa,EAChBf,iEAAA;IACCE,SAAS,EAAG,eAAe,GAAGU,WAAa;IAC3CK,KAAK,EAAG;MAAEC,SAAS,EAAE1B;IAAU;EAAG,GAElCQ,iEAAA,CAACrB,6DAAQ;IACRwC,OAAO,EAAC,MAAM;IACdjB,SAAS,EAAC,qBAAqB;IAC/BkB,cAAc,EAAG,CAAE,WAAW,EAAE,aAAa,EAAE,WAAW,CAAI;IAC9Dd,KAAK,EAAGhB,aAAe;IACvBkB,QAAQ,EAAKE,gBAAgB,IAC5BjB,aAAa,CAAE;MAAEH,aAAa,EAAEoB;IAAiB,CAAC;EAClD,EACA,EACArB,MAAM,KAAK,GAAG,IAAIC,aAAa,KAAK,EAAE,GAAG,GAAG,GAAG,IAAI,EACnDsB,WAAW,EACXrB,YAAY,KAAK,EAAE,GAAG,GAAG,GAAG,IAAI,EAClCS,iEAAA,CAACrB,6DAAQ;IACRwC,OAAO,EAAC,MAAM;IACdjB,SAAS,EAAC,oBAAoB;IAC9BkB,cAAc,EAAG,CAAE,WAAW,EAAE,aAAa,EAAE,WAAW,CAAI;IAC9Dd,KAAK,EAAGf,YAAc;IACtBiB,QAAQ,EAAKG,eAAe,IAC3BlB,aAAa,CAAE;MAAEF,YAAY,EAAEoB;IAAgB,CAAC;EAChD,EACA,CACC,CACC,CACJ;AAEL;;;;;;;;;;AC1JA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACsD;;AAEtD;AACA;AACA;AAC0B;AACU;;AAEpC;AACA;AACA;AACA;AACA;AACAU,oEAAiB,CAAEC,6CAAa,EAAE;EACjC;EACAE,OAAO,EAAE;IACRC,aAAa,EAAE;EAChB,CAAC;EACDC,IAAI,EAAE;IACLC,GAAG,EACF3B,iEAAA;MACC4B,KAAK,EAAC,IAAI;MACVC,MAAM,EAAC,IAAI;MACXC,OAAO,EAAC,WAAW;MACnBC,KAAK,EAAC;IAA4B,GAElC/B,iEAAA;MAAMgC,CAAC,EAAC;IAAiyB,EAAG;EAG/yB,CAAC;EACDC,IAAI,EAAE9C,6CAAI;EACV+C,IAAIA,CAAA,EAAG;IACN,OAAO,IAAI;EACZ;AACD,CAAC,CAAE,C","sources":["webpack://dynamic-year-block/./src/edit.js","webpack://dynamic-year-block/external window [\"wp\",\"blockEditor\"]","webpack://dynamic-year-block/external window [\"wp\",\"blocks\"]","webpack://dynamic-year-block/external window [\"wp\",\"components\"]","webpack://dynamic-year-block/external window [\"wp\",\"element\"]","webpack://dynamic-year-block/external window [\"wp\",\"i18n\"]","webpack://dynamic-year-block/webpack/bootstrap","webpack://dynamic-year-block/webpack/runtime/compat get default export","webpack://dynamic-year-block/webpack/runtime/define property getters","webpack://dynamic-year-block/webpack/runtime/hasOwnProperty shorthand","webpack://dynamic-year-block/webpack/runtime/make namespace object","webpack://dynamic-year-block/./src/index.js"],"sourcesContent":["/**\n * Inspector Controls and react hook with all the necessary props.\n *\n * @see https://developer.wordpress.org/block-editor/packages/packages-block-editor/#useBlockProps\n */\nimport {\n\tInspectorControls,\n\tuseBlockProps,\n\tRichText,\n\tAlignmentToolbar,\n\tBlockControls\n} from '@wordpress/block-editor';\n\nimport { PanelBody,\n\tRadioControl,\n\tTextControl\n} from '@wordpress/components';\n\nimport { __, sprintf } from '@wordpress/i18n';\n\n/**\n * Renders the `epico/dynamic-year-block` block on the editor.\n *\n * @param {Object} props                   React props.\n * @param {Object} props.setAttributes     Callback for updating block attributes.\n * @param {Object} props.attributes        Block attributes.\n * @param {string} props.attributes.format Format of the year.\n *\n * @return {JSX.Element} React element.\n */\nexport default function Edit( {\n\tattributes: { format, beforeElement, afterElement, alignment }, // The default value is saved on block.json.\n\tsetAttributes,\n} ) {\n\t// Define the two-digit year for the help text.\n\tconst year = wp.date.dateI18n( 'y' );\n\n\t// Block properties.\n\tconst blockProps = useBlockProps();\n\n\t// Define the inspector controls.\n\tconst inspectorControls = (\n\t\t<InspectorControls>\n\t\t\t<PanelBody title={ __( 'Settings', 'dynamic-year-block' ) }>\n\t\t\t\t<RadioControl\n\t\t\t\t\tclassName={ 'dynamic-year-block' }\n\t\t\t\t\tlabel={ __( 'Year format:', 'dynamic-year-block' ) }\n\t\t\t\t\tselected={ format }\n\t\t\t\t\toptions={ [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: __( 'Four digits', 'dynamic-year-block' ),\n\t\t\t\t\t\t\tvalue: 'Y',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: __( 'Two digits', 'dynamic-year-block' ),\n\t\t\t\t\t\t\tvalue: 'y',\n\t\t\t\t\t\t},\n\t\t\t\t\t] }\n\t\t\t\t\thelp={ sprintf(\n\t\t\t\t\t\t/* translators: %1s and %2s are the two-digit current year. See http://php.net/date. */\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'The two-digit abbreviation is commonly used immediately after an apostrophe (i.e., â€™%1$s) or as part of a date range (i.e., 2021-%2$s).',\n\t\t\t\t\t\t\t'dynamic-year-block'\n\t\t\t\t\t\t),\n\t\t\t\t\t\tyear,\n\t\t\t\t\t\tyear\n\t\t\t\t\t) }\n\t\t\t\t\tonChange={ ( newFormat ) =>\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\tformat: newFormat,\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<TextControl\n\t\t\t\t\tlabel={ __( 'Text Before Date', 'dynamic-year-block' ) }\n\t\t\t\t\tvalue={ beforeElement }\n\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t'Add text before the current year.',\n\t\t\t\t\t\t\t'dynamic-year-block'\n\t\t\t\t\t\t) }\n\t\t\t\t\tonChange={ ( newBeforeElement ) =>\n\t\t\t\t\t\tsetAttributes( { beforeElement: newBeforeElement } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<TextControl\n\t\t\t\t\tlabel={ __( 'Text After Date', 'dynamic-year-block' ) }\n\t\t\t\t\tvalue={ afterElement }\n\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t'Add text after the current year.',\n\t\t\t\t\t\t\t'dynamic-year-block'\n\t\t\t\t\t\t) }\n\t\t\t\t\tonChange={ ( newAfterElement ) =>\n\t\t\t\t\t\tsetAttributes( { afterElement: newAfterElement } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</PanelBody>\n\t\t</InspectorControls>\n\t);\n\n\t// Get the current year.\n\tconst currentYear = wp.date.dateI18n( format );\n\n\t// Add a small margin to the help text.\n\tconst editorInlineStyle = `\n\t\t.dynamic-year-block > [id*=\"help\"] {\n\t\t\tmargin-top: 15px !important;\n\t\t}\n\t`;\n\n\t// Return the controls and the block markup for the editor.\n\treturn (\n\t\t<>\n\t\t\t{ inspectorControls }\n\t\t\t<style>{ editorInlineStyle }</style>\n\t\t\t<div { ...blockProps }>\n\t\t\t\t<BlockControls>\n\t\t\t\t\t<AlignmentToolbar\n\t\t\t\t\t\tvalue={ alignment }\n\t\t\t\t\t\tonChange={ ( newAlignment ) =>\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\talignment: newAlignment === undefined ? 'none' : newAlignment,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</BlockControls>\n\t\t\t\t<p\n\t\t\t\t\tclassName={ 'dynamic-year-' + currentYear }\n\t\t\t\t\tstyle={ { textAlign: alignment } }\n\t\t\t\t>\n\t\t\t\t\t<RichText\n\t\t\t\t\t\ttagName=\"span\"\n\t\t\t\t\t\tclassName=\"dynamic-year-before\"\n\t\t\t\t\t\tallowedFormats={ [ 'core/bold', 'core/italic', 'core/link' ] }\n\t\t\t\t\t\tvalue={ beforeElement }\n\t\t\t\t\t\tonChange={ ( newBeforeElement ) =>\n\t\t\t\t\t\t\tsetAttributes( { beforeElement: newBeforeElement } )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t{ format === 'Y' && beforeElement !== '' ? ' ' : null }\n\t\t\t\t\t{ currentYear }\n\t\t\t\t\t{ afterElement !== '' ? ' ' : null }\n\t\t\t\t\t<RichText\n\t\t\t\t\t\ttagName=\"span\"\n\t\t\t\t\t\tclassName=\"dynamic-year-after\"\n\t\t\t\t\t\tallowedFormats={ [ 'core/bold', 'core/italic', 'core/link' ] }\n\t\t\t\t\t\tvalue={ afterElement }\n\t\t\t\t\t\tonChange={ ( newAfterElement ) =>\n\t\t\t\t\t\t\tsetAttributes( { afterElement: newAfterElement } )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Registers a new block provided a unique name and an object defining its behavior.\n *\n * @see https://developer.wordpress.org/block-editor/developers/block-api/#registering-a-block\n */\nimport { registerBlockType } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport Edit from './edit';\nimport metadata from './block.json';\n\n/**\n * Register a new block type definition.\n *\n * @see https://developer.wordpress.org/block-editor/developers/block-api/#registering-a-block\n */\nregisterBlockType( metadata.name, {\n\t// Block preview.\n\texample: {\n\t\tviewportWidth: 100,\n\t},\n\ticon: {\n\t\tsrc: (\n\t\t\t<svg\n\t\t\t\twidth=\"24\"\n\t\t\t\theight=\"24\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t>\n\t\t\t\t<path d=\"M3.097,11.731l-0.006,-0l0,0.269c0,4.917 3.992,8.909 8.909,8.909c2.755,-0 5.221,-1.254 6.855,-3.221l1.129,1.129c-1.926,2.253 -4.789,3.683 -7.984,3.683c-5.795,0 -10.5,-4.705 -10.5,-10.5c0,-1.613 0.364,-3.141 1.016,-4.508c-0,0 2.795,2.796 3.845,3.846l-3.244,0l-0.02,0.393Zm8.711,-1.043l0.19,0.191l3.637,-3.637c-0,0 1.143,1.144 1.143,1.144c0,-0 -3.971,3.971 -3.971,3.971l-0,5.028c-0,-0 -1.618,-0 -1.618,-0c0,-0 0,-5.028 0,-5.028l-3.967,-3.967c-0,-0 1.143,-1.144 1.143,-1.144c0,0 3.443,3.442 3.443,3.442Zm9.095,1.581l0.006,0l-0,-0.269c-0,-4.917 -3.992,-8.909 -8.909,-8.909c-2.755,0 -5.221,1.254 -6.855,3.221c0,0 -1.129,-1.129 -1.129,-1.129c1.926,-2.253 4.789,-3.683 7.984,-3.683c5.795,-0 10.5,4.705 10.5,10.5c0,1.613 -0.364,3.141 -1.016,4.508l-3.845,-3.846l3.244,-0c0.009,-0.131 0.016,-0.262 0.02,-0.393Z\" />\n\t\t\t</svg>\n\t\t),\n\t},\n\tedit: Edit,\n\tsave() {\n\t\treturn null;\n\t},\n} );\n"],"names":["InspectorControls","useBlockProps","RichText","AlignmentToolbar","BlockControls","PanelBody","RadioControl","TextControl","__","sprintf","Edit","attributes","format","beforeElement","afterElement","alignment","setAttributes","year","wp","date","dateI18n","blockProps","inspectorControls","createElement","title","className","label","selected","options","value","help","onChange","newFormat","newBeforeElement","newAfterElement","currentYear","editorInlineStyle","Fragment","newAlignment","undefined","style","textAlign","tagName","allowedFormats","registerBlockType","metadata","name","example","viewportWidth","icon","src","width","height","viewBox","xmlns","d","edit","save"],"sourceRoot":""}