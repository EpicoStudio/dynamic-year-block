{"version":3,"file":"index.js","mappings":"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","sources":["webpack://dynamic-year-block/./src/edit.js","webpack://dynamic-year-block/external window [\"wp\",\"blockEditor\"]","webpack://dynamic-year-block/external window [\"wp\",\"blocks\"]","webpack://dynamic-year-block/external window [\"wp\",\"components\"]","webpack://dynamic-year-block/external window [\"wp\",\"element\"]","webpack://dynamic-year-block/external window [\"wp\",\"i18n\"]","webpack://dynamic-year-block/webpack/bootstrap","webpack://dynamic-year-block/webpack/runtime/compat get default export","webpack://dynamic-year-block/webpack/runtime/define property getters","webpack://dynamic-year-block/webpack/runtime/hasOwnProperty shorthand","webpack://dynamic-year-block/webpack/runtime/make namespace object","webpack://dynamic-year-block/./src/index.js"],"sourcesContent":["/**\n * Inspector Controls and react hook with all the necessary props.\n *\n * @see https://developer.wordpress.org/block-editor/packages/packages-block-editor/#useBlockProps\n */\nimport {\n\tInspectorControls,\n\tuseBlockProps,\n\tRichText,\n\tAlignmentToolbar,\n\tBlockControls\n} from '@wordpress/block-editor';\n\nimport { PanelBody,\n\tRadioControl,\n\tTextControl,\n\tToggleControl\n} from '@wordpress/components';\n\nimport { __, sprintf } from '@wordpress/i18n';\n\n/**\n * Renders the `epico/dynamic-year-block` block on the editor.\n *\n * @param {Object} props                   React props.\n * @param {Object} props.setAttributes     Callback for updating block attributes.\n * @param {Object} props.attributes        Block attributes.\n * @param {string} props.attributes.format Format of the year.\n *\n * @return {JSX.Element} React element.\n */\nexport default function Edit( {\n\tattributes: { format, beforeElement, afterElement, alignment, displaySiteName }, // The default value is saved on block.json.\n\tsetAttributes,\n} ) {\n\t// Define the two-digit year for the help text.\n\tconst year = wp.date.dateI18n( 'y' );\n\n\t// Block properties.\n\tconst blockProps = useBlockProps();\n\n\t// Define the inspector controls.\n\tconst inspectorControls = (\n\t\t<InspectorControls>\n\t\t\t<PanelBody title={ __( 'Settings', 'dynamic-year-block' ) }>\n\t\t\t\t<RadioControl\n\t\t\t\t\tclassName={ 'dynamic-year-block' }\n\t\t\t\t\tlabel={ __( 'Year format:', 'dynamic-year-block' ) }\n\t\t\t\t\tselected={ format }\n\t\t\t\t\toptions={ [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: __( 'Four digits', 'dynamic-year-block' ),\n\t\t\t\t\t\t\tvalue: 'Y',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: __( 'Two digits', 'dynamic-year-block' ),\n\t\t\t\t\t\t\tvalue: 'y',\n\t\t\t\t\t\t},\n\t\t\t\t\t] }\n\t\t\t\t\thelp={ sprintf(\n\t\t\t\t\t\t/* translators: %1s and %2s are the two-digit current year. See http://php.net/date. */\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'The two-digit abbreviation is often used after an apostrophe (e.g., ’%1$s) or in a date range (e.g., 2021-%2$s).',\n\t\t\t\t\t\t\t'dynamic-year-block'\n\t\t\t\t\t\t),\n\t\t\t\t\t\tyear,\n\t\t\t\t\t\tyear\n\t\t\t\t\t) }\n\t\t\t\t\tonChange={ ( newFormat ) =>\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\tformat: newFormat,\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<ToggleControl\n\t\t\t\t\tlabel={ __( 'Text Before Date', 'dynamic-year-block' ) }\n\t\t\t\t\tchecked={ beforeElement !== '' }\n\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t'Enable to prepend any custom text. Default: “© Copyright”. Toggling resets to default.',\n\t\t\t\t\t\t'dynamic-year-block'\n\t\t\t\t\t) }\n\t\t\t\t\tonChange={ (newBeforeElement) =>\n\t\t\t\t\t\tsetAttributes( { beforeElement: newBeforeElement ? ( beforeElement || __( '© Copyright' + '\\u00A0', 'dynamic-year-block' )) : '' } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<ToggleControl\n\t\t\t\t\tlabel={ __( 'Site Name After Date', 'dynamic-year-block' ) }\n\t\t\t\t\tchecked={ displaySiteName }\n\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t'Display the site name after the current year, linked to the homepage.',\n\t\t\t\t\t\t'dynamic-year-block'\n\t\t\t\t\t) }\n\t\t\t\t\tonChange={ ( newDisplaySiteName ) =>\n\t\t\t\t\t\tsetAttributes( { displaySiteName: newDisplaySiteName } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<ToggleControl\n\t\t\t\t\tlabel={ __( 'Text After Date', 'dynamic-year-block' ) }\n\t\t\t\t\tchecked={ afterElement !== '' }\n\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t'Enable to append custom text. Default: “All rights reserved”. Toggling resets to default.',\n\t\t\t\t\t\t'dynamic-year-block'\n\t\t\t\t\t) }\n\t\t\t\t\tonChange={ (newAfterElement) =>\n\t\t\t\t\t\tsetAttributes( { afterElement: newAfterElement ? ( afterElement || __( '\\u00A0' + 'All rights reserved', 'dynamic-year-block' )) : '' } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</PanelBody>\n\t\t</InspectorControls>\n\t);\n\n\t// Get the current year.\n\tconst currentYear = wp.date.dateI18n( format );\n\n\t// Add a small margin to the help text.\n\tconst editorInlineStyle = `\n\t\t.dynamic-year-block > [id*=\"help\"] {\n\t\t\tmargin-top: 15px !important;\n\t\t}\n\t`;\n\n\t// Return the controls and the block markup for the editor.\n\treturn (\n\t\t<>\n\t\t\t{ inspectorControls }\n\t\t\t<style>{ editorInlineStyle }</style>\n\t\t\t<div { ...blockProps }>\n\t\t\t\t<BlockControls>\n\t\t\t\t\t<AlignmentToolbar\n\t\t\t\t\t\tvalue={ alignment }\n\t\t\t\t\t\tonChange={ ( newAlignment ) =>\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\talignment: newAlignment === undefined ? 'none' : newAlignment,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</BlockControls>\n\t\t\t\t<p\n\t\t\t\t\tclassName={ 'dynamic-year-' + currentYear }\n\t\t\t\t\tstyle={ { textAlign: alignment } }\n\t\t\t\t>\n\t\t\t\t\t<RichText\n\t\t\t\t\t\ttagName=\"span\"\n\t\t\t\t\t\tclassName=\"dynamic-year-before\"\n\t\t\t\t\t\tallowedFormats={ [ 'core/bold', 'core/italic', 'core/link' ] }\n\t\t\t\t\t\tplaceholder={ beforeElement !== '' ? __( 'Enter text', 'dynamic-year-block' ) : '' }\n\t\t\t\t\t\tvalue={ beforeElement }\n\t\t\t\t\t\tonChange={ ( newBeforeElement ) =>\n\t\t\t\t\t\t\tsetAttributes( { beforeElement: newBeforeElement } )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t{ currentYear }\n\t\t\t\t\t{ displaySiteName ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t<a href={dynamicYearBlockData.siteUrl}>{dynamicYearBlockData.siteTitle}</a>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : null}\n\t\t\t\t\t<RichText\n\t\t\t\t\t\ttagName=\"span\"\n\t\t\t\t\t\tclassName=\"dynamic-year-after\"\n\t\t\t\t\t\tallowedFormats={ [ 'core/bold', 'core/italic', 'core/link' ] }\n\t\t\t\t\t\tplaceholder={ afterElement !== '' ? __( 'Enter text', 'dynamic-year-block' ) : '' }\n\t\t\t\t\t\tvalue={ afterElement }\n\t\t\t\t\t\tonChange={ ( newAfterElement ) =>\n\t\t\t\t\t\t\tsetAttributes( { afterElement: newAfterElement } )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Registers a new block provided a unique name and an object defining its behavior.\n *\n * @see https://developer.wordpress.org/block-editor/developers/block-api/#registering-a-block\n */\nimport { registerBlockType } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport Edit from './edit';\nimport metadata from './block.json';\n\n/**\n * Register a new block type definition.\n *\n * @see https://developer.wordpress.org/block-editor/developers/block-api/#registering-a-block\n */\nregisterBlockType( metadata.name, {\n\t// Block preview.\n\texample: {\n\t\tviewportWidth: 100,\n\t},\n\ticon: {\n\t\tsrc: (\n\t\t\t<svg\n\t\t\t\twidth=\"24\"\n\t\t\t\theight=\"24\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t>\n\t\t\t\t<path d=\"M3.097,11.731l-0.006,-0l0,0.269c0,4.917 3.992,8.909 8.909,8.909c2.755,-0 5.221,-1.254 6.855,-3.221l1.129,1.129c-1.926,2.253 -4.789,3.683 -7.984,3.683c-5.795,0 -10.5,-4.705 -10.5,-10.5c0,-1.613 0.364,-3.141 1.016,-4.508c-0,0 2.795,2.796 3.845,3.846l-3.244,0l-0.02,0.393Zm8.711,-1.043l0.19,0.191l3.637,-3.637c-0,0 1.143,1.144 1.143,1.144c0,-0 -3.971,3.971 -3.971,3.971l-0,5.028c-0,-0 -1.618,-0 -1.618,-0c0,-0 0,-5.028 0,-5.028l-3.967,-3.967c-0,-0 1.143,-1.144 1.143,-1.144c0,0 3.443,3.442 3.443,3.442Zm9.095,1.581l0.006,0l-0,-0.269c-0,-4.917 -3.992,-8.909 -8.909,-8.909c-2.755,0 -5.221,1.254 -6.855,3.221c0,0 -1.129,-1.129 -1.129,-1.129c1.926,-2.253 4.789,-3.683 7.984,-3.683c5.795,-0 10.5,4.705 10.5,10.5c0,1.613 -0.364,3.141 -1.016,4.508l-3.845,-3.846l3.244,-0c0.009,-0.131 0.016,-0.262 0.02,-0.393Z\" />\n\t\t\t</svg>\n\t\t),\n\t},\n\tedit: Edit,\n\tsave() {\n\t\treturn null;\n\t},\n} );\n"],"names":["InspectorControls","useBlockProps","RichText","AlignmentToolbar","BlockControls","PanelBody","RadioControl","TextControl","ToggleControl","__","sprintf","Edit","attributes","format","beforeElement","afterElement","alignment","displaySiteName","setAttributes","year","wp","date","dateI18n","blockProps","inspectorControls","createElement","title","className","label","selected","options","value","help","onChange","newFormat","checked","newBeforeElement","newDisplaySiteName","newAfterElement","currentYear","editorInlineStyle","Fragment","newAlignment","undefined","style","textAlign","tagName","allowedFormats","placeholder","href","dynamicYearBlockData","siteUrl","siteTitle","registerBlockType","metadata","name","example","viewportWidth","icon","src","width","height","viewBox","xmlns","d","edit","save"],"sourceRoot":""}