(()=>{"use strict";const e=window.wp.blocks,a=window.wp.blockEditor,t=window.wp.components,l=window.wp.i18n,o=window.ReactJSXRuntime,n=JSON.parse('{"UU":"epico/dynamic-year-block"}');(0,e.registerBlockType)(n.UU,{example:{viewportWidth:100},icon:{src:(0,o.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M3.097,11.731l-0.006,-0l0,0.269c0,4.917 3.992,8.909 8.909,8.909c2.755,-0 5.221,-1.254 6.855,-3.221l1.129,1.129c-1.926,2.253 -4.789,3.683 -7.984,3.683c-5.795,0 -10.5,-4.705 -10.5,-10.5c0,-1.613 0.364,-3.141 1.016,-4.508c-0,0 2.795,2.796 3.845,3.846l-3.244,0l-0.02,0.393Zm8.711,-1.043l0.19,0.191l3.637,-3.637c-0,0 1.143,1.144 1.143,1.144c0,-0 -3.971,3.971 -3.971,3.971l-0,5.028c-0,-0 -1.618,-0 -1.618,-0c0,-0 0,-5.028 0,-5.028l-3.967,-3.967c-0,-0 1.143,-1.144 1.143,-1.144c0,0 3.443,3.442 3.443,3.442Zm9.095,1.581l0.006,0l-0,-0.269c-0,-4.917 -3.992,-8.909 -8.909,-8.909c-2.755,0 -5.221,1.254 -6.855,3.221c0,0 -1.129,-1.129 -1.129,-1.129c1.926,-2.253 4.789,-3.683 7.984,-3.683c5.795,-0 10.5,4.705 10.5,10.5c0,1.613 -0.364,3.141 -1.016,4.508l-3.845,-3.846l3.244,-0c0.009,-0.131 0.016,-0.262 0.02,-0.393Z"})})},edit:function({attributes:{format:e,beforeElement:n,afterElement:c,alignment:r,displaySiteName:i,privacyPolicy:s},setAttributes:d}){const y=wp.date.dateI18n("y"),m=(0,a.useBlockProps)(),g=e||"Y",h=(0,o.jsx)(a.InspectorControls,{children:(0,o.jsxs)(t.PanelBody,{title:(0,l.__)("Settings","dynamic-year-block"),children:[(0,o.jsx)(t.RadioControl,{className:"dynamic-year-block",label:(0,l.__)("Year format:","dynamic-year-block"),selected:g,options:[{label:(0,l.__)("Four digits","dynamic-year-block"),value:"Y"},{label:(0,l.__)("Two digits","dynamic-year-block"),value:"y"}],help:(0,l.sprintf)(/* translators: %1s and %2s are the two-digit current year. See http://php.net/date. */ /* translators: %1s and %2s are the two-digit current year. See http://php.net/date. */
(0,l.__)("The two-digit abbreviation is often used after an apostrophe (e.g., ’%1$s) or in a date range (e.g., 2021-%2$s).","dynamic-year-block"),y,y),onChange:e=>d({format:e})}),(0,o.jsx)(t.ToggleControl,{label:(0,l.__)("Text Before Date","dynamic-year-block"),checked:""!==n,help:(0,l.__)("Enable to prepend any custom text. Default: “© Copyright”. Toggling resets to the default.","dynamic-year-block"),onChange:e=>d({beforeElement:e?n||(0,l.__)("© Copyright","dynamic-year-block")+" ":""}),__nextHasNoMarginBottom:!0}),(0,o.jsx)(t.ToggleControl,{label:(0,l.__)("Site Name After Date","dynamic-year-block"),checked:i,help:(0,l.__)("Display the site name after the current year, linked to the homepage.","dynamic-year-block"),onChange:e=>d({displaySiteName:e}),__nextHasNoMarginBottom:!0}),(0,o.jsx)(t.ToggleControl,{label:(0,l.__)("Text After Date","dynamic-year-block"),checked:""!==c,help:(0,l.__)("Enable to append custom text. Default: “All rights reserved”. Toggling resets to the default.","dynamic-year-block"),onChange:e=>d({afterElement:e?c||" "+(0,l.__)("All rights reserved","dynamic-year-block"):""}),__nextHasNoMarginBottom:!0}),(0,o.jsx)(t.ToggleControl,{label:(0,l.__)("Privacy Policy Link After Date","dynamic-year-block"),checked:""!==s,help:(0,l.__)("Enable to append a link to your site’s privacy policy, which you can define under “Settings → Privacy”. Toggling resets to the default.","dynamic-year-block"),onChange:e=>d({privacyPolicy:e?s||(0,l.__)("Privacy Policy","dynamic-year-block"):""}),__nextHasNoMarginBottom:!0})]})}),p=wp.date.dateI18n(g);return(0,o.jsxs)(o.Fragment,{children:[h,(0,o.jsx)("style",{children:'\n\t\t.dynamic-year-block > [id*="help"] {\n\t\t\tmargin-top: 15px !important;\n\t\t}\n\t'}),(0,o.jsxs)("div",{...m,children:[(0,o.jsx)(a.BlockControls,{children:(0,o.jsx)(a.AlignmentToolbar,{value:r,onChange:e=>d({alignment:void 0===e?"none":e})})}),(0,o.jsxs)("p",{className:"dynamic-year-"+p,style:{textAlign:r},children:[(0,o.jsx)(a.RichText,{tagName:"span",className:"dynamic-year-before",allowedFormats:["core/bold","core/italic","core/link"],placeholder:""!==n?(0,l.__)("Enter text","dynamic-year-block"):"",value:n,onChange:e=>d({beforeElement:e})}),p,i?(0,o.jsxs)(o.Fragment,{children:[" ",(0,o.jsx)("a",{onClick:e=>{e.preventDefault()},target:"_self",rel:"home",href:dynamicYearBlockData.siteUrl,children:dynamicYearBlockData.siteTitle})]}):null,(0,o.jsx)(a.RichText,{tagName:"span",className:"dynamic-year-after",allowedFormats:["core/bold","core/italic","core/link"],placeholder:""!==c?(0,l.__)("Enter text","dynamic-year-block"):"",value:c,onChange:e=>d({afterElement:e})}),(0,o.jsxs)(o.Fragment,{children:[" ",(0,o.jsx)(a.RichText,{tagName:"a",className:"dynamic-year-privacy-policy",allowedFormats:["core/bold","core/italic"],placeholder:""!==s?(0,l.__)("Enter text","dynamic-year-block"):"",value:s,onChange:e=>d({privacyPolicy:e}),href:"#",target:"_blank",rel:"noopener noreferrer","aria-label":(0,l.__)("Privacy Policy","dynamic-year-block")})]})]})]})]})},save:()=>null})})();